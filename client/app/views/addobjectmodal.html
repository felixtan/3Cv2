<link rel="stylesheet" href='styles/forms.scss'>

<div class="modal-header">
    <h3 class="modal-title">Add {{ objectType }}</h3>
    <button type="button" class='close' ng-click='close()' style='margin-top:-35px;'>
        &times;
    </button>
</div>

<div class="modal-body">

    <div class="btn-toolbar" role="toolbar">
        <div class="btn-group" role="group">
            <!-- opens add field modal -->
            <button class='btn btn-info' type='button' ng-click='addField()'>
                + Field
            </button>
        </div>
    </div>

    <br>
    
    <form novalidate role='form' id='newObjectForm' name='form' ng-submit='submit($data)'>

        <div class='form-group' ng-if='objectType === "car"'>
            <label>Organize cars with this identifier:</label>

            <select ng-model='identifier.value' class='form-control'>
                <option ng-repeat='field in fields' value='{{ ::field }}'>{{ ::field }}</option>
            </select>
        </div>

        <div class='form-group' ng-repeat='(field, value) in formData' ng-if='!hide(field)'>
            <label for="{{ ::field }}">{{ ::field }}</label>
            <!-- 
            <span style='margin-left:1vw;' ng-if='!dontLog(field)'>
                <input type='checkbox' ng-model='formData[field].log'> Log this
            </span> -->

            <input type='text' class='form-control' ng-model="formData[field].value">
        </div>
    </form>

   <!--  <div>
        {{ formData }}
    </div>  -->
</div>

<div class="modal-footer">
  <button class="btn btn-success" type="button" ng-click="submit()" ng-disabled='!disableConditions(formData) || nullIdentifier(identifier)'>Submit</button>
  <button class="btn btn-danger" type="button" ng-click="reset()">Reset</button>
  <button class='btn btn-default' type='button' ng-click='close()'>Close</button>
</div>

