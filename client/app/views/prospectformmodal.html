<link rel="stylesheet" href='styles/forms.scss'>

<div class="modal-header">
    <h3 class="modal-title">Add prospect</h3>
    <button type="button" class='close' ng-click='close()' style='margin-top:-35px;'>
        &times;
    </button>
</div>
<!-- {{ formData }} -->
<div class="modal-body">
    <form novalidate>
        <button class='btn btn-info' type='button' ng-click='isCollapsed = !isCollapsed'>
            + Field
        </button>
    </form>

    <br>

    <div collapse='!isCollapsed' class='well well-lg'>
        <form novalidate role='form' id='fieldForm' name='fieldForm'>
            <div class='form-group'>
                <label for='name'>Field Name</label>
                <input type='text' class='form-control' ng-model='newField.name' ng-required>
            </div>

            <button type='submit' class='btn btn-success' ng-click='addField()' ng-disabled='newField.name === null'>
                +
            </button>
        </form>
    </div>

    <form novalidate role='form' id='newProspectForm' name='prospectform' ng-submit='submit($data)'>

        <!-- default field -->
        <div class='form-group'>
            <label for='status'>Status</label>

            <select class='form-control' ng-model='formData.status.value'>
                <option ng-repeat='status in statuses' value='{{ status.value }}' ng-if='!status.special'>
                    {{ status.value }}
                </option>
            </select>
        </div>

        <!-- default field -->
        <div class='form-group'>
            <label for='firstName'>First Name</label>

            <input type='text' class='form-control' ng-model="formData['First Name'].value">
        </div>

        <!-- default field -->
        <div class='form-group'>
            <label for='lastName'>Last Name</label>

            <input type='text' class='form-control' ng-model="formData['Last Name'].value">
        </div>

        <div class='form-group' ng-repeat='(field, value) in formData'>
            <div ng-if='notNameOrStatus(field)'>
                <label for='{{ field }}'>{{ ::field }}</label>
                
                <span style='float:right;'>
                    <button class='btn btn-danger btn-xs' type='button' ng-click='openDeleteFieldModal(lg, { "field": field })'>
                        Delete
                    </button>
                </span>

                <input type='text' class='form-control' ng-model="formData[field].value">
            </div>
        </div>
    </form>

   <!--  <div>
        {{ formData }}
    </div>  -->
</div>

<div class="modal-footer">
  <button class="btn btn-success" type="button" ng-click="submit()" ng-disabled='!nameEntered()'>Submit</button>
  <button class="btn btn-danger" type="button" ng-click="reset()">Reset</button>
  <button class='btn btn-default' type='button' ng-click='close()'>Close</button>
</div>

