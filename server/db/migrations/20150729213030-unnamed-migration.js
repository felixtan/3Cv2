'use strict';

module.exports = {
  up: function (migration, DataTypes) {
    /*
      Add altering commands here.
      Return a promise to correctly handle asynchronicity.

      Example:
      return migration.createTable('users', { id: Sequelize.INTEGER });
    */

    migration.createTable('DriverLog', {
      id: {
        type: new DataTypes.INTEGER(),
        primaryKey: true,
        autoIncrement: true,
        _autoGenerated: true,
        allowNull: false
      },
      uberRevenue: DataTypes.STRING,
      tollCosts: DataTypes.STRING,
      gasCosts: DataTypes.STRING,
      desposit: DataTypes.STRING,
      hours: DataTypes.STRING,
      acceptRate: DataTypes.STRING,
      payout: DataTypes.STRING,
      debt: DataTypes.STRING,
      profitContributed: DataTypes.STRING,
      createdAt: {
        type: DataTypes.DATE,
        allowNull: false,
        _autoGenerated: true
      },
      updatedAt: {
        type: DataTypes.DATE,
        allowNull: false,
        _autoGenerated: true
      },
      deletedAt: {
        type: DataTypes.DATE,
        _autoGenerated: true
      }
    });

    migration.addColumn('Drivers', 'payRate', { type: DataTypes.STRING });
  },

  down: function (migration, DataTypes) {
    /*
      Add reverting commands here.
      Return a promise to correctly handle asynchronicity.

      Example:
      return migration.dropTable('users');
    */

    migration.dropTable('DriverLog');
    migration.removeColumn('Drivers', 'payRate');
  }
};
